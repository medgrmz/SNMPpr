{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.internal_registryContainer = void 0;\nexports.unstable_resetCleanupTracking = unstable_resetCleanupTracking;\nexports.useGridEvent = useGridEvent;\nexports.useGridEventPriority = useGridEventPriority;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _TimerBasedCleanupTracking = require(\"../../utils/cleanupTracking/TimerBasedCleanupTracking\");\nvar _FinalizationRegistryBasedCleanupTracking = require(\"../../utils/cleanupTracking/FinalizationRegistryBasedCleanupTracking\");\n// Based on https://github.com/Bnaya/use-dispose-uncommitted/blob/main/src/finalization-registry-based-impl.ts\n// Check https://github.com/facebook/react/issues/15317 to get more information\n\n// We use class to make it easier to detect in heap snapshots by name\nclass ObjectToBeRetainedByReact {\n  static create() {\n    return new ObjectToBeRetainedByReact();\n  }\n}\nconst registryContainer = {\n  current: createRegistry()\n};\nlet cleanupTokensCounter = 0;\nfunction useGridEvent(apiRef, eventName, handler, options) {\n  const objectRetainedByReact = React.useState(ObjectToBeRetainedByReact.create)[0];\n  const subscription = React.useRef(null);\n  const handlerRef = React.useRef(null);\n  handlerRef.current = handler;\n  const cleanupTokenRef = React.useRef(null);\n  if (!subscription.current && handlerRef.current) {\n    const enhancedHandler = (params, event, details) => {\n      if (!event.defaultMuiPrevented) {\n        handlerRef.current?.(params, event, details);\n      }\n    };\n    subscription.current = apiRef.current.subscribeEvent(eventName, enhancedHandler, options);\n    cleanupTokensCounter += 1;\n    cleanupTokenRef.current = {\n      cleanupToken: cleanupTokensCounter\n    };\n    registryContainer.current.register(objectRetainedByReact,\n    // The callback below will be called once this reference stops being retained\n    () => {\n      subscription.current?.();\n      subscription.current = null;\n      cleanupTokenRef.current = null;\n    }, cleanupTokenRef.current);\n  } else if (!handlerRef.current && subscription.current) {\n    subscription.current();\n    subscription.current = null;\n    if (cleanupTokenRef.current) {\n      registryContainer.current.unregister(cleanupTokenRef.current);\n      cleanupTokenRef.current = null;\n    }\n  }\n  React.useEffect(() => {\n    if (!subscription.current && handlerRef.current) {\n      const enhancedHandler = (params, event, details) => {\n        if (!event.defaultMuiPrevented) {\n          handlerRef.current?.(params, event, details);\n        }\n      };\n      subscription.current = apiRef.current.subscribeEvent(eventName, enhancedHandler, options);\n    }\n    if (cleanupTokenRef.current && registryContainer.current) {\n      // If the effect was called, it means that this render was committed\n      // so we can trust the cleanup function to remove the listener.\n      registryContainer.current.unregister(cleanupTokenRef.current);\n      cleanupTokenRef.current = null;\n    }\n    return () => {\n      subscription.current?.();\n      subscription.current = null;\n    };\n  }, [apiRef, eventName, options]);\n}\nconst OPTIONS_IS_FIRST = {\n  isFirst: true\n};\nfunction useGridEventPriority(apiRef, eventName, handler) {\n  useGridEvent(apiRef, eventName, handler, OPTIONS_IS_FIRST);\n}\n\n// TODO: move to @mui/x-data-grid/internals\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction unstable_resetCleanupTracking() {\n  registryContainer.current?.reset();\n  registryContainer.current = createRegistry();\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst internal_registryContainer = exports.internal_registryContainer = registryContainer;\nfunction createRegistry() {\n  return typeof FinalizationRegistry !== 'undefined' ? new _FinalizationRegistryBasedCleanupTracking.FinalizationRegistryBasedCleanupTracking() : new _TimerBasedCleanupTracking.TimerBasedCleanupTracking();\n}","map":{"version":3,"names":["_interopRequireWildcard","require","default","Object","defineProperty","exports","value","internal_registryContainer","unstable_resetCleanupTracking","useGridEvent","useGridEventPriority","React","_TimerBasedCleanupTracking","_FinalizationRegistryBasedCleanupTracking","ObjectToBeRetainedByReact","create","registryContainer","current","createRegistry","cleanupTokensCounter","apiRef","eventName","handler","options","objectRetainedByReact","useState","subscription","useRef","handlerRef","cleanupTokenRef","enhancedHandler","params","event","details","defaultMuiPrevented","subscribeEvent","cleanupToken","register","unregister","useEffect","OPTIONS_IS_FIRST","isFirst","reset","FinalizationRegistry","FinalizationRegistryBasedCleanupTracking","TimerBasedCleanupTracking"],"sources":["C:/Users/MSI GF75 THIN 10SC/OneDrive/Bureau/fffffffff/node_modules/@mui/x-data-grid/hooks/utils/useGridEvent.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.internal_registryContainer = void 0;\nexports.unstable_resetCleanupTracking = unstable_resetCleanupTracking;\nexports.useGridEvent = useGridEvent;\nexports.useGridEventPriority = useGridEventPriority;\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _TimerBasedCleanupTracking = require(\"../../utils/cleanupTracking/TimerBasedCleanupTracking\");\nvar _FinalizationRegistryBasedCleanupTracking = require(\"../../utils/cleanupTracking/FinalizationRegistryBasedCleanupTracking\");\n// Based on https://github.com/Bnaya/use-dispose-uncommitted/blob/main/src/finalization-registry-based-impl.ts\n// Check https://github.com/facebook/react/issues/15317 to get more information\n\n// We use class to make it easier to detect in heap snapshots by name\nclass ObjectToBeRetainedByReact {\n  static create() {\n    return new ObjectToBeRetainedByReact();\n  }\n}\nconst registryContainer = {\n  current: createRegistry()\n};\nlet cleanupTokensCounter = 0;\nfunction useGridEvent(apiRef, eventName, handler, options) {\n  const objectRetainedByReact = React.useState(ObjectToBeRetainedByReact.create)[0];\n  const subscription = React.useRef(null);\n  const handlerRef = React.useRef(null);\n  handlerRef.current = handler;\n  const cleanupTokenRef = React.useRef(null);\n  if (!subscription.current && handlerRef.current) {\n    const enhancedHandler = (params, event, details) => {\n      if (!event.defaultMuiPrevented) {\n        handlerRef.current?.(params, event, details);\n      }\n    };\n    subscription.current = apiRef.current.subscribeEvent(eventName, enhancedHandler, options);\n    cleanupTokensCounter += 1;\n    cleanupTokenRef.current = {\n      cleanupToken: cleanupTokensCounter\n    };\n    registryContainer.current.register(objectRetainedByReact,\n    // The callback below will be called once this reference stops being retained\n    () => {\n      subscription.current?.();\n      subscription.current = null;\n      cleanupTokenRef.current = null;\n    }, cleanupTokenRef.current);\n  } else if (!handlerRef.current && subscription.current) {\n    subscription.current();\n    subscription.current = null;\n    if (cleanupTokenRef.current) {\n      registryContainer.current.unregister(cleanupTokenRef.current);\n      cleanupTokenRef.current = null;\n    }\n  }\n  React.useEffect(() => {\n    if (!subscription.current && handlerRef.current) {\n      const enhancedHandler = (params, event, details) => {\n        if (!event.defaultMuiPrevented) {\n          handlerRef.current?.(params, event, details);\n        }\n      };\n      subscription.current = apiRef.current.subscribeEvent(eventName, enhancedHandler, options);\n    }\n    if (cleanupTokenRef.current && registryContainer.current) {\n      // If the effect was called, it means that this render was committed\n      // so we can trust the cleanup function to remove the listener.\n      registryContainer.current.unregister(cleanupTokenRef.current);\n      cleanupTokenRef.current = null;\n    }\n    return () => {\n      subscription.current?.();\n      subscription.current = null;\n    };\n  }, [apiRef, eventName, options]);\n}\nconst OPTIONS_IS_FIRST = {\n  isFirst: true\n};\nfunction useGridEventPriority(apiRef, eventName, handler) {\n  useGridEvent(apiRef, eventName, handler, OPTIONS_IS_FIRST);\n}\n\n// TODO: move to @mui/x-data-grid/internals\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction unstable_resetCleanupTracking() {\n  registryContainer.current?.reset();\n  registryContainer.current = createRegistry();\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst internal_registryContainer = exports.internal_registryContainer = registryContainer;\nfunction createRegistry() {\n  return typeof FinalizationRegistry !== 'undefined' ? new _FinalizationRegistryBasedCleanupTracking.FinalizationRegistryBasedCleanupTracking() : new _TimerBasedCleanupTracking.TimerBasedCleanupTracking();\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}